<!DOCTYPE html>
<html lang="de">
	<head>
	<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Übersicht Anime</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<link rel="stylesheet" href="Css.css">
		<script src="sessionHandling.js"></script>
	</head>
	<body>
		<header>
			<h1 class="startseiteH1">Animes</h1>
			<nav class="navigationBox schatten">
				<ul class="navigationList">
					<li class="navigationButton"><a href="Home.html" class="navigation">Startseite</a></li>
					<li class="navigationButton"><a href="Datenbank Uebersicht Anime.html" class="navigation">Animes</a></li>
					<li class="navigationButton"><a href="Datenbank Uebersicht Manga.html" class="navigation">Mangas</a></li>
					<li class="navigationButton"><a id="1" href="Registration.html" class="navigation">Registration</a></li>
					<li class="navigationButton"><a id="2" href="Login.html" class="navigation">Log in</a></li>
					<li class="navigationButton"><a id="3" onClick="Logout()" class="navigation"></a></li>
				</ul>
			</nav>
		</header>
		<main>
			<form id="uploadForm" enctype="multipart/form-data">
				<article class="mainBox">
					<section class="filter">
						<input type="text" id="Suche" name="Suche" value="" placeholder="Suche..." class="searchBar" onkeyup="BrowseFilter()">
						<label class="labelSpaceRight">Genre: </label>
						<select id="Genre" class="dropdownMenue" name="Genre" onchange="GenreSelect()">
						</select>
						<label class="labelSpaceLeft labelSpaceRight">Season:</label>
						<select id="Season" class="dropdownMenue" name="Season" onchange="BrowseFilter()">
						</select>
						<label class="labelSpaceLeft labelSpaceRight">Jahr:</label>
						<select id="Jahr" class="dropdownMenue" name="Jahr" onchange="BrowseFilter()">
						</select>
						<label class="labelSpaceLeft labelSpaceRight">Format:</label>
						<select id="Format" class="dropdownMenue" name="Format" onchange="BrowseFilter()">
						</select>
						<label class="labelSpaceLeft labelSpaceRight">Source:</label>
						<select id="Source" class="dropdownMenue" name="Source" onchange="BrowseFilter()">
						</select>
						<label class="labelSpaceLeft labelSpaceRight">Sort:</label>
						<select id="Order" name="Order" class="dropdownMenue" onchange="BrowseFilter()">
							<option value="1">Alphabetisch</option>
							<option value="2">Start Datum Aufsteigend</option>
							<option value="3">Start Datum Absteigend</option>
							<option value="4">Folgen Anzahl Aufsteigend</option>
							<option value="5">Folgen Anzahl Absteigend</option>
						</select>
						<!-- ListStatus
						<label class="labelSpaceLeft labelSpaceRight"></label>
						<select id="select" class="dropdownMenue">
							<option value=""></option>
						</select>
						-->
					</section>
					<section class="genreAuswahlBox" id="genreAuswahlBox">
						<img src="Bilder\Genres\Action.png" class="genreAuswahl1" id="Action" value="1" onclick="GenreSelectRemove(2)"></img>
						<img src="Bilder\Genres\Adventure.png" class="genreAuswahl2" id="Adventure" value="1" onclick="GenreSelectRemove(3)"></img>
						<img src="Bilder\Genres\Comedy.png" class="genreAuswahl3" id="Comedy" value="1" onclick="GenreSelectRemove(4)"></img>
						<img src="Bilder\Genres\Drama.png" class="genreAuswahl4" id="Drama" value="1" onclick="GenreSelectRemove(5)"></img>
						<img src="Bilder\Genres\Ecchi.png" class="genreAuswahl5" id="Ecchi" value="1" onclick="GenreSelectRemove(6)"></img>
						<img src="Bilder\Genres\Fantasy.png" class="genreAuswahl6" id="Fantasy" value="1" onclick="GenreSelectRemove(7)"></img>
						<img src="Bilder\Genres\Horror.png" class="genreAuswahl7" id="Horror" value="1" onclick="GenreSelectRemove(8)"></img>
						<img src="Bilder\Genres\MahouShoujo.png" class="genreAuswahl8" id="MahouShoujo" value="1" onclick="GenreSelectRemove(9)"></img>
						<img src="Bilder\Genres\Mecha.png" class="genreAuswahl9" id="Mecha" value="1" onclick="GenreSelectRemove(10)"></img>
						<img src="Bilder\Genres\Music.png" class="genreAuswahl10" id="Music" value="1" onclick="GenreSelectRemove(11)"></img>
						<img src="Bilder\Genres\Mystery.png" class="genreAuswahl11" id="Mystery" value="1" onclick="GenreSelectRemove(12)"></img>
						<img src="Bilder\Genres\Psychological.png" class="genreAuswahl12" id="Psychological" value="1" onclick="GenreSelectRemove(13)"></img>
						<img src="Bilder\Genres\Romance.png" class="genreAuswahl13" id="Romance" value="1" onclick="GenreSelectRemove(14)"></img>
						<img src="Bilder\Genres\Sci-Fi.png" class="genreAuswahl14" id="Sci-Fi" value="1" onclick="GenreSelectRemove(15)"></img>
						<img src="Bilder\Genres\SliceOfLife.png" class="genreAuswahl15" id="SliceOfLife" value="1" onclick="GenreSelectRemove(16)"></img>
						<img src="Bilder\Genres\Sport.png" class="genreAuswahl16" id="Sport" value="1" onclick="GenreSelectRemove(17)"></img>
						<img src="Bilder\Genres\Supernatural.png" class="genreAuswahl17" id="Supernatural" value="1" onclick="GenreSelectRemove(18)"></img>
						<img src="Bilder\Genres\Thriller.png" class="genreAuswahl18" id="Thriller" value="1" onclick="GenreSelectRemove(19)"></img>
					</section>
				</article>
				<article class="mainBox datenbankBox mainBoxExtra" id="AnimeTablePlace">
					<footer class="navigationBox2 schatten">
						<ul class="navigationList">
							<li class="navigationButton"><a href="Impressum.html" class="navigation">Impressum</a></li>
							<li class="navigationButton navigationButton2"><a id="admin" href="#" class="navigation"></a></li>
						</ul>
					</footer>
				</article>

				<article class="hinterGrundBox" id="TransparentBox" onclick="HideEntry()">
				</article>
				<article class="eintragBox schatten" id="EintragInfoBox">
					<table class="eintragTable" >
						<tr>
							<td></td>
							<td>
								<section class="eintragRomaji">
									<label id="Romaji"></label>
								</section>
							</td>
						</tr>
						<tr>
							<td class="alignTop">
								<section class="eintragBildBox schatten">
									<image src="" width="215" height="300" id="Cover"></img>
								</section>
							</td>
							<td>
								<table>
									<tr>
										<td ><b><label>Englischer Titel:</label></b></td>
										<td><label id="Englisch"></label></td>
									</tr>
									<tr>
										<td><b><label>Deutscher Titel:</label></b></td>
										<td><label id="Deutsch"></label></td>
									</tr>
								</table>
								<table class="alignTopText">
									<tr>
										<td class="alignTop"><b ><label>Beschreibung:</label></b></td>
										<td><textbox id="Beschreibung" maxlength="150"></textbox></td>
										</tr>
								</table>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<section class="eintragAuswahlBox">
									<select id="ListStatus" type="dropdownMenue" name="" onchange="AddAnimeToList()">
										<option value="0">---</option>
									</select>
								</section>
							</td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td>
								<table>
									<tr>
										<td><b><label>Folgen:</label></b></td>
										<td><label id="Folgen"></label></td>
									</tr>
									<tr>
										<td><b><label>Folgen l&auml;nge:</label></b></td>
										<td><label id="Dauer"></label>min</td>
									</tr>
								</table>
								<table>
									<tr>
										<td><b><label>Status:</label></b></td>
										<td><label id="Status"></label></td>
									</tr>
									<tr>
										<td><b><label>Season:</label></b></td>
										<td><label id="SeasonEintrag"></label></td>
									</tr>
									<tr>
										<td><b><label>Start:</label></b></td>
										<td><label id="StartDate"></label></td>
									</tr>
									<tr>
										<td><b><label>End:</label></b></td>
										<td><label id="EndDate"></label></td>
									</tr>
									<tr>
										<td><b><label>Format:</label></b></td>
										<td><label id="FormatEintrag"></label></td>
									</tr>
									<tr>
										<td><b><label>Source:</label></b></td>
										<td><label id="SourceEintrag"></label></td>
									</tr>
									<tr>
										<td><b><label>Studio:</label></b></td>
										<td><label id="StudioEintrag"></label></td>
									</tr>
									<tr>
										<td><b><label>Genres:</label></b></td>
										<td><label id="GenreEintrag"></label></td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				  <section  id="delete" class="eintragLoeschen" onclick="Delete()">
						<label>Delete</label>
					</section>
				</article>
			</form>
		</main>
		<script>
			
			$(document).ready(function() {
				LoadAndDisplayDropDownMenues();
				var arr = getJSONSessionItem("Account")
				if (existsSessionItem("Account")) {
					document.getElementById("1").innerHTML = "Meine Liste";
					document.getElementById("1").href = "Liste.html";
					document.getElementById("2").innerHTML = getJSONSessionItem("Account").benutzername;
					document.getElementById("2").href = "Profil.html";
					document.getElementById("3").innerHTML = "Logout";
					if (getJSONSessionItem("Account").adminid == 1) {
						document.getElementById("admin").innerHTML = "Admin Ansicht";
						document.getElementById("admin").href = "Admin Ansicht.html";
					}
				}
			})

			function Logout() {
				removeSessionItem("Account");
				window.location.href = "Login.html";
			}

			function LoadAndDisplayDropDownMenues(){
				
				$.ajax({
					url: 'http://localhost:8000/api/genre/alle',
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderGenreOptions(response);                
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})
				
				$.ajax({
					url: 'http://localhost:8000/api/season/alle',
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderSeasonOptions(response);                
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})
				
				$.ajax({
					url: 'http://localhost:8000/api/jahr/alle',
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderJahrOptions(response);                
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})
				
				$.ajax({
					url: 'http://localhost:8000/api/format/alle/Anime',
					method: 'get',
                	contentType: 'application/json; charset=utf-8',
                	cache: false,
                	dataType: 'json',
				}).done(function (response) {
                	console.log(response);
                	RenderFormatOptions(response);                
            	}).fail(function (jqXHR, statusText, error) {
                	console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
                	$('#output').html('Ein Fehler ist aufgetreten');
				})
				
				$.ajax({
					url: 'http://localhost:8000/api/source/alle',
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderSourceOptions(response);                
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})
				
				$.ajax({
					url: 'http://localhost:8000/api/listStatus/alle/Anime',
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderStatusListStatus(response);
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})
				
				$.ajax({
					url: 'http://localhost:8000/api/Anime/Alle',
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderAnimeTable(response);
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})
			}

			function RenderGenreOptions(arr) {
				console.log(arr);
				var select = document.getElementById("Genre");

				for (var i = 0; i < arr.length; i++){
					var opt = document.createElement("option");
					opt.value = arr[i].id;
					opt.innerHTML = arr[i].genre;
					select.appendChild(opt);
				}
			}

			function RenderSeasonOptions(arr) {
				console.log(arr);
				var select = document.getElementById("Season");

				for (var i = 0; i < arr.length; i++){
					var opt = document.createElement("option");
					opt.value = arr[i].id;
					opt.innerHTML = arr[i].season;
					select.appendChild(opt);
				}
			}

			function RenderJahrOptions(arr) {
				console.log(arr);
				var select = document.getElementById("Jahr");

				for (var i = 0; i < arr.length; i++){
					var opt = document.createElement("option");
					opt.value = arr[i].id;
					opt.innerHTML = arr[i].jahr;
					select.appendChild(opt);
				}
			}

			function RenderFormatOptions(arr) {
				console.log(arr);
				var select = document.getElementById("Format");

				for (var i = 0; i < arr.length; i++){
					var opt = document.createElement("option");
					opt.value =  arr[i].id;
					opt.innerHTML = arr[i].format;
					select.appendChild(opt);
				}
			}
						
			function RenderSourceOptions(arr) {
				console.log(arr);
				var select = document.getElementById("Source");

				for (var i = 0; i <arr.length; i++){
					var opt = document.createElement("option");
					opt.value = arr[i].id;
					opt.innerHTML = arr[i].source;
					select.appendChild(opt);
				}
			}
			
			function RenderStatusListStatus(arr) {
				console.log(arr);
				var select = document.getElementById("ListStatus");

				for (var i = 0; i <arr.length; i++){
					var opt = document.createElement("option");
					opt.value = arr[i].id;
					opt.innerHTML = arr[i].ListStatus;
					select.appendChild(opt);
				}
			}

			function GenreSelect() {

				var genre = document.getElementById('Genre').value
				var view = document.getElementById('genreAuswahlBox')

				if(genre == 2){
					document.getElementById('Action').value = 2
					document.getElementById('Action').style.display = 'inline'
				}

				if(genre == 3){
					document.getElementById('Adventure').value = 3
					document.getElementById('Adventure').style.display = 'inline'
				}

				if(genre == 4){
					document.getElementById('Comedy').value = 4
					document.getElementById('Comedy').style.display = 'inline'
				}

				if(genre == 5){
					document.getElementById('Drama').value = 5
					document.getElementById('Drama').style.display = 'inline'
				}

				if(genre == 6){
					document.getElementById('Ecchi').value = 6
					document.getElementById('Ecchi').style.display = 'inline'
				}

				if(genre == 7){
					document.getElementById('Fantasy').value = 7
					document.getElementById('Fantasy').style.display = 'inline'
				}

				if(genre == 8){
					document.getElementById('Horror').value = 8
					document.getElementById('Horror').style.display = 'inline'
				}

				if(genre == 9){
					document.getElementById('MahouShoujo').value = 9
					document.getElementById('MahouShoujo').style.display = 'inline'
				}

				if(genre == 10){
					document.getElementById('Mecha').value = 10
					document.getElementById('Mecha').style.display = 'inline'
				}

				if(genre == 11){
					document.getElementById('Music').value = 11
					document.getElementById('Music').style.display = 'inline'
				}

				if(genre == 12){
					document.getElementById('Mystery').value = 12
					document.getElementById('Mystery').style.display = 'inline'
				}

				if(genre == 13){
					document.getElementById('Psychological').value = 13
					document.getElementById('Psychological').style.display = 'inline'
				}

				if(genre == 14){
					document.getElementById('Romance').value = 14
					document.getElementById('Romance').style.display = 'inline'
				}

				if(genre == 15){
					document.getElementById('Sci-Fi').value = 15
					document.getElementById('Sci-Fi').style.display = 'inline'
				}

				if(genre == 16){
					document.getElementById('SliceOfLife').value = 16
					document.getElementById('SliceOfLife').style.display = 'inline'
				}

				if(genre == 17){
					document.getElementById('Sport').value = 17
					document.getElementById('Sport').style.display = 'inline'
				}

				if(genre == 18){
					document.getElementById('Supernatural').value = 18
					document.getElementById('Supernatural').style.display = 'inline'
				}

				if(genre == 19){
					document.getElementById('Thriller').value = 19
					document.getElementById('Thriller').style.display = 'inline'
				}
				document.getElementById('Genre').selectedIndex = 0

				BrowseFilter()
			}

			function GenreSelectRemove(id){

				if(id == 2){
					document.getElementById('Action').value = 0
					document.getElementById('Action').style.display = "none"
				}

				if(id == 3){
					document.getElementById('Adventure').value = 0
					document.getElementById('Adventure').style.display = "none"
				}

				if(id == 4){
					document.getElementById('Comedy').value = 0
					document.getElementById('Comedy').style.display = "none"
				}

				if(id == 5){
					document.getElementById('Drama').value = 0
					document.getElementById('Drama').style.display = "none"
				}

				if(id == 6){
					document.getElementById('Ecchi').value = 0
					document.getElementById('Ecchi').style.display = "none"
				}

				if(id == 7){
					document.getElementById('Fantasy').value = 0
					document.getElementById('Fantasy').style.display = "none"
				}

				if(id == 8){
					document.getElementById('Horror').value = 0
					document.getElementById('Horror').style.display = "none"
				}

				if(id == 9){
					document.getElementById('MahouShoujo').value = 0
					document.getElementById('MahouShoujo').style.display = "none"
				}

				if(id == 10){
					document.getElementById('Mecha').value = 0
					document.getElementById('Mecha').style.display = "none"
				}

				if(id == 11){
					document.getElementById('Music').value = 0
					document.getElementById('Music').style.display = "none"
				}

				if(id == 12){
					document.getElementById('Mystery').value = 0
					document.getElementById('Mystery').style.display = "none"
				}

				if(id == 13){
					document.getElementById('Psychological').value = 0
					document.getElementById('Psychological').style.display = "none"
				}

				if(id == 14){
					document.getElementById('Romance').value = 0
					document.getElementById('Romance').style.display = "none"
				}

				if(id == 15){
					document.getElementById('Sci-Fi').value = 0
					document.getElementById('Sci-Fi').style.display = "none"
				}

				if(id == 16){
					document.getElementById('SliceOfLife').value = 0
					document.getElementById('SliceOfLife').style.display = "none"
				}

				if(id == 17){
					document.getElementById('Sport').value = 0
					document.getElementById('Sport').style.display = "none"
				}

				if(id == 18){
					document.getElementById('Supernatural').value = 0
					document.getElementById('Supernatural').style.display = "none"
				}

				if(id == 19){
					document.getElementById('Thriller').value = 0
					document.getElementById('Thriller').style.display = "none"
				}

				BrowseFilter()
			}

			function BrowseFilter(){

				var SelectedValueSeason = 1
				var SelectedValueJahr = 1
				var SelectedValueFormat = 1
				var SelectedValueSource = 1
				var SelectedText = "";
				var SelectedValueOrder = 1

				var SelectedValueGenre1 = 1
				var SelectedValueGenre2 = 1
				var SelectedValueGenre3 = 1
				var SelectedValueGenre4 = 1
				var SelectedValueGenre5 = 1
				var SelectedValueGenre6 = 1
				var SelectedValueGenre7 = 1
				var SelectedValueGenre8 = 1
				var SelectedValueGenre9 = 1
				var SelectedValueGenre10 = 1
				var SelectedValueGenre11 = 1
				var SelectedValueGenre12 = 1
				var SelectedValueGenre13 = 1
				var SelectedValueGenre14 = 1
				var SelectedValueGenre15 = 1
				var SelectedValueGenre16 = 1
				var SelectedValueGenre17 = 1
				var SelectedValueGenre18 = 1

				SelectedValueSeason = document.getElementById('Season').value
				SelectedValueJahr = document.getElementById('Jahr').value
				SelectedValueFormat = document.getElementById('Format').value
				SelectedValueSource = document.getElementById('Source').value
				SelectedValueOrder = document.getElementById('Order').value
				
				SelectedValueGenre1 = document.getElementById('Action').value
				SelectedValueGenre2 = document.getElementById('Adventure').value
				SelectedValueGenre3 = document.getElementById('Comedy').value
				SelectedValueGenre4 = document.getElementById('Drama').value
				SelectedValueGenre5 = document.getElementById('Ecchi').value
				SelectedValueGenre6 = document.getElementById('Fantasy').value
				SelectedValueGenre7 = document.getElementById('Horror').value
				SelectedValueGenre8 = document.getElementById('MahouShoujo').value
				SelectedValueGenre9 = document.getElementById('Mecha').value
				SelectedValueGenre10 = document.getElementById('Music').value
				SelectedValueGenre11 = document.getElementById('Mystery').value
				SelectedValueGenre12 = document.getElementById('Psychological').value
				SelectedValueGenre13 = document.getElementById('Romance').value
				SelectedValueGenre14 = document.getElementById('Sci-Fi').value
				SelectedValueGenre15 = document.getElementById('SliceOfLife').value
				SelectedValueGenre16 = document.getElementById('Sport').value
				SelectedValueGenre17 = document.getElementById('Supernatural').value
				SelectedValueGenre18 = document.getElementById('Thriller').value
				SelectedText += document.getElementById('Suche').value

				
				table = document.getElementById('AnimeAuswahl')
				table.parentNode.removeChild(table)

				$.ajax({
					url: 'http://localhost:8000/api/Fillter/SortGenreAnime/'+ SelectedValueSeason + '_' + SelectedValueJahr + '_' + SelectedValueFormat + '_' + SelectedValueSource + '_' + SelectedText + '_' +  SelectedValueGenre1 + '&' + SelectedValueGenre2 + '&' + SelectedValueGenre3 + '&' + SelectedValueGenre4 + '&' + SelectedValueGenre5 + '&' + SelectedValueGenre6 + '&' + SelectedValueGenre7 + '&' + SelectedValueGenre8 + '&' + SelectedValueGenre9 + '&' + SelectedValueGenre10 + '&'  + SelectedValueGenre11 + '&'  + SelectedValueGenre12 + '&'  + SelectedValueGenre13 + '&'  + SelectedValueGenre14 + '&'  + SelectedValueGenre15 + '&'  + SelectedValueGenre16 + '&'  + SelectedValueGenre17 + '&'  + SelectedValueGenre18 + '_' + SelectedValueOrder,
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					RenderAnimeTable(response);          
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})

			}

			function RenderAnimeTable(arr){
				
				var table = document.createElement("table");
				document.getElementById("AnimeTablePlace").appendChild(table).setAttribute("id", "AnimeAuswahl")
				document.getElementById("AnimeAuswahl").classList.add("pictureTable")
				var zaehler = 0;
				
				$(arr).each(function(idx, item){

					animeName = item.romaji;

					if(animeName.length > 30){
						animeName = animeName.substr(0,25) + '...'
					}

					if(zaehler == 7) {
						zaehler = 0;	
					}
					
					if(zaehler == 0){
						row = table.insertRow();
						A = row.insertCell();
						B = row.insertCell();
						C = row.insertCell();
						D = row.insertCell();
						E = row.insertCell();
						F = row.insertCell();
						zaehler += 1;
					}
					
					if(zaehler == 1) {
						A.innerHTML = '<image class="schatten" src="' + item.cover + '" width="215" height="300" onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')"><p><label onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')" id="' + item.id + '">' + animeName + '</label>';
						}
					if(zaehler == 2) {
						B.innerHTML = '<image class="schatten" src="' + item.cover + '" width="215" height="300" onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')"><p><label onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')" id="' + item.id + '">' + animeName + '</label>';
						}
					if(zaehler == 3) {
						C.innerHTML = '<image class="schatten" src="' + item.cover + '" width="215" height="300" onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')"><p><label onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')" id="' + item.id + '">' + animeName + '</label>';
						}
					if(zaehler == 4) {
						D.innerHTML = '<image class="schatten" src="' + item.cover + '" width="215" height="300" onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')"><p><label onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')" id="' + item.id + '">' + animeName + '</label>';
						}
					if(zaehler == 5) {
						E.innerHTML = '<image class="schatten" src="' + item.cover + '" width="215" height="300" onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')"><p><label onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')" id="' + item.id + '">' + animeName + '</label>';
						}
					if(zaehler == 6) {
						F.innerHTML = '<image class="schatten" src="' + item.cover + '" width="215" height="300" onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')"><p><label onclick="ShowEntry(' + item.id + ')" onmouseover="ChangeColorOver(' + item.id + ')" onmouseout="ChangeColorOut(' + item.id + ')" id="' + item.id + '">' + animeName + '</label>';
						}
					zaehler += 1;
				})
			}

			function ChangeColorOver (id){
				document.getElementById(id).style.color = "red"
			}

			function ChangeColorOut (id){
				document.getElementById(id).style.color = "black"
			}

			function ShowEntry(id){

				setSessionItem("id", id);
					
				$.ajax({
					url: 'http://localhost:8000/api/Anime/gib/'+ id,
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					FillTableWithData(response);          
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})

				$.ajax({
					url: 'http://localhost:8000/api/animeEintragGenre/animeGenre/'+ id,
					method: 'get',
					contentType: 'application/json; charset=utf-8',
					cache: false,
					dataType: 'json',
				}).done(function (response) {
					console.log(response);
					FillGenreCell(response);          
				}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
				})

				EintragInfoBox.style.visibility="visible"
				TransparentBox.style.visibility="visible"

				if (getJSONSessionItem("Account").id){

					user = getJSONSessionItem("Account").id

					$.ajax({
						url: 'http://localhost:8000/api/animeListe/gib/'+ id + '_' + user,
						method: 'get',
						contentType: 'application/json; charset=utf-8',
						cache: false,
						dataType: 'json',
					}).done(function (response) {
						console.log(response);
						getAnimeListStatus(response);          
					}).fail(function (jqXHR, statusText, error) {
						console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
						$('#output').html('Ein Fehler ist aufgetreten');
					})
				}
        
				EintragInfoBox.style.visibility="visible"
				TransparentBox.style.visibility="visible"
				if (getJSONSessionItem("Account").adminid == 1) {
						document.getElementById("delete").style.visibility = "visible";
				}
        
			}

			function getAnimeListStatus(id){
				document.getElementById('ListStatus').value = id
			}

			function HideEntry(){
				
				EintragInfoBox.style.visibility="hidden"
				TransparentBox.style.visibility="hidden"
				document.getElementById("delete").style.visibility = "hidden";
				
				document.getElementById('Romaji').innerHTML = ''
				document.getElementById('Englisch').innerHTML = ''
				document.getElementById('Deutsch').innerHTML = ''
				document.getElementById('Beschreibung').innerHTML = ''
				document.getElementById('Folgen').innerHTML = ''
				document.getElementById('Dauer').innerHTML = ''
				document.getElementById('Status').innerHTML = ''
				document.getElementById('StartDate').innerHTML = ''
				document.getElementById('EndDate').innerHTML = ''
				document.getElementById('FormatEintrag').innerHTML = ''
				document.getElementById('SeasonEintrag').innerHTML = ''
				document.getElementById('StudioEintrag').innerHTML = ''
				document.getElementById('SourceEintrag').innerHTML = ''
				document.getElementById('Cover').src = ''
				document.getElementById('GenreEintrag').innerHTML = ''
				document.getElementById('ListStatus').value = 0
			}

			function FillTableWithData(item) {

				document.getElementById('Romaji').innerHTML = item.romaji
				document.getElementById('Englisch').innerHTML = item.englisch
				document.getElementById('Deutsch').innerHTML = item.deutsch
				document.getElementById('Beschreibung').innerHTML = item.beschreibung
				document.getElementById('Folgen').innerHTML = item.folgenanzahl
				document.getElementById('Dauer').innerHTML = item.dauer
				document.getElementById('Status').innerHTML = item.status
				document.getElementById('StartDate').innerHTML = item.startdatum
				document.getElementById('EndDate').innerHTML = item.enddatum
				document.getElementById('FormatEintrag').innerHTML = item.format
				document.getElementById('SeasonEintrag').innerHTML = item.season + ' ' + item.jahr
				document.getElementById('StudioEintrag').innerHTML = item.studio
				document.getElementById('SourceEintrag').innerHTML = item.source
				document.getElementById('Cover').src = item.cover
				document.getElementById('ListStatus').name = item.id
			}

			function FillGenreCell(arr){

				var genres = ''

				$(arr).each(function(idx, item){

					genres += item.genre + ', '
				})

				genres = genres.substring(0, genres.length - 2)
				document.getElementById('GenreEintrag').innerHTML = genres
			}

			function AddAnimeToList(){

				var user = ""

				if (user = getJSONSessionItem("Account").benutzername){

					var listStatusUser = document.getElementById('ListStatus').value
					var entryID = document.getElementById('ListStatus').name

					var obj = { "User": user, "ListStatusUser": listStatusUser, "EntryID": entryID}

					$.ajax({
						url: 'http://localhost:8000/api/animeListe/status/add',
						method: 'post',
						contentType: 'application/json; charset=utf-8',
						cache: false,
						data: JSON.stringify(obj),
					})
					.done(function() {
						console.log('eintragInfo eingetragen')
					})
					.fail(function(xhr){
						console.log('error recieved');
						console.log(xhr);
						console.log(xhr.status);
						alert(xhr.responseText);
					})
				}

			}

			function Delete() {

				var id = getSessionItem("id");

				/*Delete Eintrag aus AnimeListe*/
				$.ajax({
						url: 'http://localhost:8000/api/animeListe/delete/' + id,
						method: 'delete',
						contentType: 'application/json; charset=utf-8',
						cache: false,
				})
				.done(function() {
					console.log('Eintrag gelöscht');
					DeleteAnimeEintragGenre(id);
				})
				.fail(function(xhr){
					console.log('error recieved');
					console.log(xhr);
					console.log(xhr.status);
					alert(xhr.responseText);
				})

				/*Delete Eintrag aus AnimeEintragGerne*/
				function DeleteAnimeEintragGenre(id) {
					$.ajax({
						url: 'http://localhost:8000/api/animeEintragGenre/delete/' + id,
						method: 'delete',
						contentType: 'application/json; charset=utf-8',
						cache: false,
					})
					.done(function() {
						console.log('Eintrag gelöscht');
						GetEintragId(id);
					})
					.fail(function(xhr){
						console.log('error recieved');
						console.log(xhr);
						console.log(xhr.status);
						alert(xhr.responseText);
					})
				}

				/*Get Eintrag aus Anime*/
				function GetEintragId(id) {
					$.ajax({
						url: 'http://localhost:8000/api/anime/gib/eintragid/' + id,
						method: 'get',
						contentType: 'application/json; charset=utf-8',
						cache: false,
						dataType: 'json',
					})
					.done(function(response) {
						console.log('EintragId erhalten');
						setJSONSessionItem("EintragId", response);
						DeleteAnime(id);
					})
					.fail(function(xhr){
						console.log('error recieved');
						console.log(xhr);
						console.log(xhr.status);
						alert(xhr.responseText);
				})
				}
				/*Delete Eintrag aus Anime*/
				function DeleteAnime(id) {
					$.ajax({
						url: 'http://localhost:8000/api/anime/' + id,
						method: 'delete',
						contentType: 'application/json; charset=utf-8',
						cache: false,
					})
					.done(function() {
						console.log('Eintrag gelöscht');
						DeleteEintragInfo();
					})
					.fail(function(xhr){
						console.log('error recieved');
						console.log(xhr);
						console.log(xhr.status);
						alert(xhr.responseText);
					})
				}

				/*Delete Eintrag aus EintragInfo*/
				function DeleteEintragInfo() {
					var JSONEintragId = getJSONSessionItem("EintragId");
					var EintragId = JSONEintragId.eintragid;

					$.ajax({
						url: 'http://localhost:8000/api/eintragInfo/' + EintragId,
						method: 'delete',
						contentType: 'application/json; charset=utf-8',
						cache: false,
					})
					.done(function() {
						console.log('Eintrag gelöscht');
						removeSessionItem("id");
						removeSessionItem("EintragId");
					})
					.fail(function(xhr){
						console.log('error recieved');
						console.log(xhr);
						console.log(xhr.status);
						alert(xhr.responseText);
					})
				}
			}

		</script>
	</body>
</html>
<!--Test>